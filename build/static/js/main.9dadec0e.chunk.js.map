{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notifications.js","App.js","index.js"],"names":["PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Persons","persons","filter","removePerson","people","person","name","toLowerCase","includes","map","key","number","onClick","id","Filter","handleFilterChange","baseUrl","axios","get","newObject","post","delete","put","Notifications","message","messageStyle","className","App","useState","setPersons","setNewName","setNewNumber","setFiltered","setMessage","setMessageStyle","useEffect","personsService","then","response","data","event","target","preventDefault","personObject","indexOf","concat","setTimeout","catch","error","window","confirm","personToUpdate","find","p","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9dadec0e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = ({ addPerson, handleNameChange, handleNumberChange, newName, newNumber }) => {\r\n    return (\r\n        <>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\n\r\n\r\nconst Persons = ({ persons, filter, removePerson }) => {\r\n\r\n    const peopleOnList = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    const people = peopleOnList.map(people => <li key={people.name}>{people.name} {people.number} <button onClick={() => removePerson(people.id)}>Delete</button> </li>)\r\n\r\n   \r\n    \r\n    return (\r\n        <div>\r\n            <ul>\r\n                {people}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n    return (\r\n        <div>\r\n            Filter <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React from 'react';\r\n\r\nconst Notifications = ({ message, messageStyle }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notifications;","import React, {\r\n    useState,\r\n    useEffect\r\n} from 'react'\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Persons from \"./components/Persons\"\r\nimport Filter from \"./components/Filter\"\r\nimport personsService from \"./services/persons\"\r\nimport Notifications from \"./components/Notifications\"\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filter, setFiltered] = useState(\"\")\r\n    const [message, setMessage] = useState(null)\r\n    const [messageStyle, setMessageStyle] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personsService.getAll().then(response => {\r\n            setPersons(response.data)\r\n        })\r\n    }, [])\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFiltered(event.target.value)\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (persons.map(person => person.name.toLowerCase()).indexOf(newName.toLowerCase()) === -1) {\r\n            personsService.create(personObject).then(response => {\r\n                setPersons(persons.concat(personObject))\r\n                setMessage(`${newName} is added`)\r\n                setMessageStyle(\"success\")\r\n\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                    setMessageStyle(null)\r\n\r\n                }, 1000)\r\n\r\n            }).catch(error => {\r\n                if(error.response.data.error.includes(\"Person validation failed: name:\")) {\r\n                    setMessage(`The name should be at least 3 characters`);\r\n                    setMessageStyle(\"error\");\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMessageStyle(null)\r\n                      }, 2000);\r\n                } else if(error.response.data.error.includes(\"Person validation failed: number:\")){\r\n                    setMessage(`The number should be at least 8 characters`)\r\n                    setMessageStyle(\"error\");\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMessageStyle(null)\r\n                      }, 2000);\r\n                }\r\n            })\r\n        } else {\r\n            if (window.confirm(`${newName} is already in the phone book, do you want to replace the old number with the new one?`)) {\r\n                const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n                personsService.update(personToUpdate.id, {\r\n                    name: newName,\r\n                    number: newNumber\r\n                })\r\n                    .then(response => {\r\n                        setPersons(persons.map(person => person.id !== personToUpdate.id ? person : response.data))\r\n                        setMessage(`${newName}'s number has changed`)\r\n                        setMessageStyle(\"success\")\r\n                        setTimeout(() => {\r\n                            setMessage(null)\r\n                            setMessageStyle(null)\r\n                        }, 2000);\r\n                    }).catch(error => {\r\n                        setMessage(`${newName} has already been deleted`)\r\n                        setMessageStyle(\"error\")\r\n                        setPersons(persons.filter(p => p.id !== personToUpdate.id))\r\n                        setTimeout(() => {\r\n                            setMessage(null)\r\n                            setMessageStyle(null)\r\n\r\n                        }, 2000)\r\n                    })\r\n            }\r\n        }\r\n\r\n\r\n\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const removePerson = (id) => {\r\n        const personToRemove = persons.find(p => p.id === id)\r\n        if (window.confirm(`Delete ${personToRemove.name}`)) {\r\n            personsService\r\n                .deletePerson(id)\r\n                .then(response => {\r\n                    setPersons(persons.filter(p => p.id !== id))\r\n                    setMessage(`${personToRemove.name} has been removed`)\r\n                    setMessageStyle(\"success\")\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMessageStyle(null)\r\n\r\n                    }, 2000)\r\n\r\n                }).catch(error => {\r\n                    setMessage(`Error: ${error.response.data.error}`)\r\n                    setMessageStyle(\"error\")\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMessageStyle(null)\r\n\r\n                    }, 2000)\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    return (<\r\ndiv >\r\n        <h2> Phonebook < /h2> <\r\n            Notifications message={\r\n                message\r\n            }\r\n            messageStyle={\r\n                messageStyle\r\n            }\r\n        /> <\r\n                Filter handleFilterChange={\r\n                    handleFilterChange\r\n                }\r\n                filter={\r\n                    filter\r\n                }\r\n            /> <\r\n        h2 > Add new person < /h2> <\r\n                    PersonForm handleNameChange={\r\n                        handleNameChange\r\n                    }\r\n                    handleNumberChange={\r\n                        handleNumberChange\r\n                    }\r\n                    addPerson={\r\n                        addPerson\r\n                    }\r\n                    newName={\r\n                        newName\r\n                    }\r\n                    newNumber={\r\n                        newNumber\r\n                    }\r\n                /> <\r\n        h2 > Numbers < /h2> <\r\n                        Persons persons={\r\n                            persons\r\n                        }\r\n                        filter={\r\n                            filter\r\n                        }\r\n                        setPersons={\r\n                            setPersons\r\n                        }\r\n                        removePerson={\r\n                            removePerson\r\n                        }\r\n                    /> < /\r\n        div >\r\n                                                                            )\r\n                                                                        }\r\n                                                                        \r\nexport default App  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\"\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}